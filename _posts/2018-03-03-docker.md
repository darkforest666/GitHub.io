---
layout: post
title: 初学docker
date: 208-03-03
categories: blog
tags: [容器]
description: docker。
---


<h2>环境配置问题</h2>
<p>软件开发最大的麻烦事之一，就是环境配置。举例来说，安装一个 Python 应用，计算机必须有 P
		ython 引擎，还必须有各种依赖，可能还要配置环境变量。</p>
<p>解决上述问题的方案有很多种，分配一台物理机，虚拟机，如果这些系统挂掉了，意味着时时刻刻面临着
		重新做系统等的风险，然后对系统重新部署、代码、配置重新部署的风险，间接上增加了很多运维工作的
		内容。</p>
<h2>Linux 容器</h2>
<p>鉴于以上风险，Linux 发展出了另一种虚拟化技术：Linux 容器（Linux Containers，缩写为
		LXC）。</p>
<p>Linux 容器不是模拟一个完整的操作系统，而是对进程进行隔离。或者说，在正常进程的外面套了
		一个保护层。对于容器里面的进程来说，它接触到的各种资源都是虚拟的，从而实现与底层系统的隔离。
	由于容器是进程级别的，相比虚拟机有很多优势。</p>
<ul>
		它具有以下优点：
		<li>（1）启动快
			容器里面的应用，直接就是底层系统的一个进程，而不是虚拟机内部的进程。所以，启动容器相当于
		启动本机的一个进程，而不是启动一个操作系统，速度就快很多;</li>
		<li>（2）资源占用少
			容器只占用需要的资源，不占用那些没有用到的资源；虚拟机由于是完整的操作系统，不可避免要占用
		所有资源。另外，多个容器可以共享资源，虚拟机都是独享资源;</li>
		<li>（3）体积小
		容器只要包含用到的组件即可，而虚拟机是整个操作系统的打包，所以容器文件比虚拟机文件要小很多。
		</li>
		总之，容器有点像轻量级的虚拟机，能够提供虚拟化的环境，但是成本开销小得多。
</ul>

<h2>什么是DOCKER</h2>
<p>Docker 属于 Linux 容器的一种封装，提供简单易用的容器使用接口。它是目前最流行的 Linux 容
		器解决方案。</p>
<p>Docker 将应用程序与该程序的依赖，打包在一个文件里面。运行这个文件，就会生成一个虚拟容器。
		程序在这个虚拟容器里运行，就好像在真实的物理机上运行一样。有了 Docker，就不用担心环境问题。
		</p>
<h2>DOCKER的用途</h2>
<ul>
			Docker 的主要用途，目前有三大类。

<li>（1）提供一次性的环境。比如，本地测试他人的软件、持续集成的时候提供单元测试和构建的环境。
</li>

<li>（2）提供弹性的云服务。因为 Docker 容器可以随开随关，很适合动态扩容和缩容。</li>

<li>（3）组建微服务架构。通过多个容器，一台机器可以跑多个服务，因此在本机就可以模拟出微服务架构。
</li>
</ul>
<h2>DOCKER的安装</h2>
<p>官方的安装地址是<a href='https://docs.docker.com/install/'>点我</a>。</p>
<p>安装完成后，可以在命令行输入 docker version 或 docker info来查看docker是否安装正常.</p>
<p>这里强调一下，docker安装完成后是一个客户端的，启动客户端表示已经运行起来，刚才找了半天没找到怎么
	启动，如果未启动，会报如下的错误：
	<i>Cannot connect to the Docker daemon at unix:///var/run/docker.sock. Is the docke
	r daemon running?</i></p>
<h2>image文件</h2>
<p>Docker 把应用程序及其依赖，打包在 image 文件里面。只有通过这个文件，才能生成 Docker 容器。ima
ge 文件可以看作是容器的模板。Docker 根据 image 文件生成容器的实例。同一个 image 文件，可以生成多
个同时运行的容器实例。</p>

<p>image 是二进制文件。实际开发中，一个 image 文件往往通过继承另一个 image 文件，加上一些个性化设
置而生成。举例来说，你可以在 Ubuntu 的 image 基础上，往里面加入 Apache 服务器，形成你的 image。
</p>
<p>
	# 列出本机的所有 image 文件。
	$ docker image ls
</p>
<p>
# 删除 image 文件
$ docker image rm [imageName]
</p>
<p> image文件类似exe执行文件一样，可以拷贝到任意安装docker的机器上执行。为了节省时间，尽量使用别人
已经制作好的image文件，以便节省时间。运行下面的命令执行hello-world这个镜像：</p>
<p> docker image pull library/hello-world</p> 
